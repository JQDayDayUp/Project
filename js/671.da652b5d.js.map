{"version":3,"file":"js/671.da652b5d.js","mappings":"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","sources":["webpack://my-app/./src/views/Home.vue","webpack://my-app/./src/components/Roll.vue","webpack://my-app/src/components/Roll.vue","webpack://my-app/./src/components/Roll.vue?3cb7","webpack://my-app/./src/components/Roll.vue?cacf","webpack://my-app/src/views/Home.vue","webpack://my-app/./src/views/Home.vue?90cf","webpack://my-app/./src/views/Home.vue?c6a5"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"HomePage\"},[_c('canvas',{ref:\"canvas\"}),_c('img',{staticClass:\"bg\",attrs:{\"src\":require(\"@/assets/images/bg.jpg\")}}),_c('audio',{ref:\"audio\",attrs:{\"src\":require(\"@/assets/audios/bgm.mp3\"),\"loop\":\"true\"}}),_c('div',{staticClass:\"HomePage-main\"},[_vm._l((_vm.list),function(item,idx){return _c('Roll',{key:idx,attrs:{\"content\":item.data,\"isOpen\":item.active,\"playMusic\":_vm.shoes},on:{\"videoIsOpen\":_vm.videoIsOpenFun}})}),_c('span',{staticClass:\"music\",on:{\"click\":function($event){return _vm.handleClickMusic()}}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/music.png\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"map\"},[_c('ul',_vm._l((_vm.list),function(item,idx){return _c('li',{key:idx,class:item.active\n              ? item.map + ' ' + item.map + '-' + (idx + 1) + ' ' + 'active'\n              : item.map + ' ' + item.map + '-' + (idx + 1),on:{\"click\":function($event){return _vm.clickPoint(item)}}})}),0),_c('img',{attrs:{\"src\":require(\"@/assets/images/mp_wh.png\")}})])],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"scroll-wrapper\",class:{ open: this.isOpen }},[_c('div',{staticClass:\"scroll-content\"},[_c('div',{staticClass:\"scroll-text\"},[_c('p',[_vm._v(_vm._s(_vm.content.title))]),_c('sub',[_vm._v(_vm._s(_vm.content.auth))]),_c('span',[_vm._v(_vm._s(_vm.content.text))])])]),_c('div',{staticClass:\"videos-content\",on:{\"click\":_vm.handleopne}},[_c('img',{attrs:{\"src\":require(\"@/assets/images/ht.png\"),\"alt\":\"视频讲解\"}})]),_c('a-modal',{attrs:{\"title\":_vm.content.title,\"width\":\"800px\",\"footer\":null,\"destroyOnClose\":true,\"after-close\":_vm.handleCancel},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('video',{ref:\"myVideo\",attrs:{\"src\":require(\"@/assets/videos/wuhuxian.mp4\"),\"controls\":true}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"scroll-wrapper\" :class=\"{ open: this.isOpen }\">\n    <div class=\"scroll-content\">\n      <div class=\"scroll-text\">\n        <p>{{ content.title }}</p>\n        <sub>{{ content.auth }}</sub>\n        <span>{{ content.text }}</span>\n      </div>\n    </div>\n    <div class=\"videos-content\" @click=\"handleopne\">\n      <img src=\"@/assets/images/ht.png\" alt=\"视频讲解\">\n    </div>\n    <a-modal v-model=\"visible\" :title=\"content.title\" width=\"800px\" :footer=\"null\" :destroyOnClose=\"true\"  :after-close=\"handleCancel\" >\n      <video src=\"@/assets/videos/wuhuxian.mp4\" ref=\"myVideo\" :controls=\"true\" ></video>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport '@/assets/less/Roll.less';\nexport default {\n  name: 'RollComponent',\n  props: {\n    content: {},\n    isOpen: { type: Boolean, default: false },\n    playMusic:{type: Boolean, default: true },\n  },\n  data() {\n    return {\n      visible:false\n    };\n  },\n  methods: {\n    handleopne(){\n      this.visible =true;\n      // this.clickMusic();\n      this.$emit('videoIsOpen', false);\n      setTimeout(() => {\n          // 俩秒之后让模块消失\n          // eslint-disable-next-line vue/no-mutating-props\n          // this.playMusic=false;\n          this.$refs.myVideo.play()\n        }, 500);\n    },\n    handleCancel(){\n      this.visible =false\n      this.$emit('videoIsOpen', true);\n      // this.$refs.myVideo.pause()\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Roll.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Roll.vue?vue&type=template&id=4605ed4c&\"\nimport script from \"./Roll.vue?vue&type=script&lang=js&\"\nexport * from \"./Roll.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"HomePage\">\n    <canvas ref=\"canvas\"></canvas>\n    <img src=\"@/assets/images/bg.jpg\" class=\"bg\" />\n    <audio src='@/assets/audios/bgm.mp3' ref=\"audio\" loop=\"true\" />\n    <div class=\"HomePage-main\">\n      <Roll\n        :content=\"item.data\"\n        :isOpen=\"item.active\"\n        :playMusic=\"shoes\"\n        v-for=\"(item, idx) in list\"\n        :key=\"idx\"\n        @videoIsOpen=\"videoIsOpenFun\"\n      ></Roll>\n      <span class=\"music\" @click=\"handleClickMusic()\">\n        <img src=\"@/assets/images/music.png\" alt=\"\">\n      </span>\n      <div class=\"map\">\n        <ul>\n          <li\n            v-for=\"(item, idx) in list\"\n            :key=\"idx\"\n            @click=\"clickPoint(item)\"\n            :class=\"\n              item.active\n                ? item.map + ' ' + item.map + '-' + (idx + 1) + ' ' + 'active'\n                : item.map + ' ' + item.map + '-' + (idx + 1)\n            \"\n          ></li>\n        </ul>\n        <img src=\"@/assets/images/mp_wh.png\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Roll from '@/components/Roll.vue';\nimport '@/assets/less/Home.less';\nexport default {\n  name: 'HomePage',\n  components: {\n    Roll\n  },\n  data() {\n    return {\n      clickS: 0, //点击次数\n      shoes: false,//是否播放\n      list: [\n        {\n          data: {\n            title: '望天门山',\n            auth: '唐·李白',\n            text: '天门中断楚江开，碧水东流至此回。两岸青山相对出，孤帆一片日边来。'\n          },\n          map: 'wh',\n          active: false\n        },\n        // {\n        //   data: {\n        //     title: '蝶恋花.怀于湖',\n        //     auth: '宋·张孝祥',\n        //     text: '恰则杏花红一树。捻指来时，结子青无数。漠漠春阴缠柳絮。一天风雨将春去。春到家山须小住。芍药樱桃，更是寻芳处。绕院碧莲三百亩。留春伴我春应许。'\n        //   },\n        //   map: 'wh',\n        //   active: false\n        // }\n      ],\n      canvasWidth: window.innerWidth,\n      canvasHeight: window.innerHeight,\n      ctx: null,\n      snowflakes: [],\n      numSnowflakes: 50,\n      windDirection: 1,\n      lastExecutedTime: 0, // 记录上一次执行的时间戳\n      throttleDelay: 100 // 节流阈值，单位为毫秒\n    };\n  },\n  mounted() {\n    this.init();\n    window.addEventListener('resize', this.handleResize);\n  },\n  updated() {\n    this.handleResize();\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  created() {},\n  methods: {\n    init() {\n      const canvas = this.$refs.canvas;\n      this.ctx = canvas.getContext('2d');\n      canvas.width = this.canvasWidth;\n      canvas.height = this.canvasHeight;\n\n      // 清空雪花数组\n      this.snowflakes = [];\n\n      // 初始化雪花\n      for (let i = 0; i < this.numSnowflakes; i++) {\n        this.snowflakes.push({\n          x: Math.random() * this.canvasWidth,\n          y: Math.random() * this.canvasHeight,\n          r: Math.random() * 6 + 1,\n          d: 10\n        });\n      }\n\n      // 绘制雪花\n      this.drawSnow();\n    },\n\n    drawSnow() {\n      const { ctx, snowflakes, windDirection } = this;\n      ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n      ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';\n      ctx.beginPath();\n\n      for (let i = 0; i < this.numSnowflakes; i++) {\n        const { x, y, r } = snowflakes[i];\n        ctx.moveTo(x, y);\n        ctx.arc(x, y, r, 0, Math.PI * 2, true);\n\n        // 雪花下落\n        snowflakes[i].y += Math.pow(snowflakes[i].d, 1 / 2) + 1;\n        snowflakes[i].x += Math.sin((windDirection * snowflakes[i].y) / 100);\n\n        // 雪花到达底部后重新回到顶部\n        if (snowflakes[i].y > this.canvasHeight) {\n          snowflakes[i].y = -10;\n          snowflakes[i].x = Math.random() * this.canvasWidth;\n        }\n      }\n\n      ctx.fill();\n      requestAnimationFrame(this.drawSnow);\n    },\n    handleResize() {\n      this.canvasWidth = window.innerWidth;\n      this.canvasHeight = window.innerHeight;\n      this.$refs.canvas.width = this.canvasWidth;\n      this.$refs.canvas.height = this.canvasHeight;\n    },\n    \n    handleClickMusic() {\n      console.log(2111);\n      if (this.shoes == false) {\n        this.shoes = true;\n        this.$refs.audio.play()\n      } else if (this.shoes == true) {\n        this.shoes = false;\n        this.$refs.audio.pause()\n      }\n    },\n    videoIsOpenFun(params){\n      console.log(params)\n      params? this.$refs.audio.play() : this.$refs.audio.pause()\n    },\n    clickPoint(item) {\n      this.clickS = this.clickS + 1;\n      if (item.active) {\n        item.active = false;\n      } else {\n        this.list.map((item) => {\n          item.active = false;\n        });\n        setTimeout(() => {\n          // 俩秒之后让模块消失\n          item.active = true;\n        }, 500);\n      }\n\n      this.clickS === 1 ? this.$refs.audio.play() : '';\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=1943dd0c&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","require","_l","list","item","idx","key","data","active","shoes","on","videoIsOpenFun","$event","handleClickMusic","class","map","clickPoint","staticRenderFns","open","isOpen","_v","_s","content","title","auth","text","handleopne","handleCancel","model","value","visible","callback","$$v","expression","name","props","type","Boolean","default","playMusic","methods","$emit","setTimeout","$refs","myVideo","play","component","components","Roll","clickS","canvasWidth","window","innerWidth","canvasHeight","innerHeight","ctx","snowflakes","numSnowflakes","windDirection","lastExecutedTime","throttleDelay","mounted","init","addEventListener","handleResize","updated","beforeDestroy","removeEventListener","created","canvas","getContext","width","height","i","push","x","Math","random","y","r","d","drawSnow","clearRect","fillStyle","beginPath","moveTo","arc","PI","pow","sin","fill","requestAnimationFrame","console","log","audio","pause","params"],"sourceRoot":""}